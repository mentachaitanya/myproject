<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Django App{% endblock %}</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- AOS Animation Library -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">

    <!-- Lottie Animation Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.7.8/lottie.min.js"></script>

    <style>
        /* Soft clean background */
        body {
            background: #f4f6f9;
            transition: background 0.3s ease;
        }

        /* Dark Mode */
        body.dark-mode {
            background: #121212 !important;
            color: #f5f5f5 !important;
        }

        .dark-mode .navbar {
            background-color: #222 !important;
        }

        .dark-mode .card {
            background: #1f1f1f !important;
            color: white !important;
        }

        .dark-toggle {
            cursor: pointer;
            font-size: 22px;
            margin-left: 15px;
        }

        /* Animation container */
        #hero-animation {
            width: 300px;
            height: 300px;
            margin: 0 auto;
        }
    </style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow">
    <div class="container">
        <a class="navbar-brand" href="/">My Django App</a>

        <!-- Dark Mode Icon -->
        <span class="dark-toggle text-white" onclick="toggleDarkMode()">ðŸŒ™</span>

        <div>
            {% if user.is_authenticated %}
                <span class="text-white me-3">Hello, {{ user.username }} ðŸ‘‹</span>
                <a class="btn btn-outline-light" href="/accounts/logout/">Logout</a>
            {% else %}
                <a class="btn btn-outline-light me-2" href="/accounts/login/">Login</a>
                <a class="btn btn-light" href="/accounts/signup/">Signup</a>
            {% endif %}
        </div>
    </div>
</nav>

<!-- MAIN PAGE CONTENT -->
<div class="container mt-4">
    {% block content %}
    {% endblock %}
</div>

<!-- Bootstrap + AOS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>

<script>
    AOS.init();

    /* DARK MODE */
    function toggleDarkMode() {
        document.body.classList.toggle("dark-mode");
        localStorage.setItem("darkMode", document.body.classList.contains("dark-mode"));
    }

    if (localStorage.getItem("darkMode") === "true") {
        document.body.classList.add("dark-mode");
    }

    /* Load Lottie Animation */
    document.addEventListener("DOMContentLoaded", function () {
        if (document.getElementById("hero-animation")) {
            lottie.loadAnimation({
                container: document.getElementById("hero-animation"),
                renderer: "svg",
                loop: true,
                autoplay: true,
                path: "https://assets1.lottiefiles.com/packages/lf20_touohxv0.json"  // animated illustration
            });
        }
    });
</script>

</body>
</html>
